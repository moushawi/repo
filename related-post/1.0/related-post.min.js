var randomRelatedIndex,showRelatedPost;!function(e,t,a){var l={widgetTitle:"<h4>Related Posts</h4>",widgetStyle:1,homePage:"/",numPosts:7,summaryLength:370,titleLength:"auto",thumbnailSize:72,noImage:"data:image/png;base64,R0lGODlhAQABAIAAAOnp6QAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",containerId:"related-post",newTabLink:!1,moreText:"Read More",callBack:function(){}};for(var i in relatedPostConfig)l[i]="undefined"==relatedPostConfig[i]?l[i]:relatedPostConfig[i];var s=function(e){var l=t.createElement("script");l.type="text/javascript",l.src=e,a.appendChild(l)},r=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},n=function(e){var t,a,l=e.length;if(0===l)return!1;for(;--l;)t=Math.floor(Math.random()*(l+1)),a=e[l],e[l]=e[t],e[t]=a;return e},d="object"==typeof labelArray&&labelArray.length>0?n(labelArray)[0]:"",o="object"==typeof labelArray&&labelArray.length>0?l.homePage.replace(/\/$/,"")+"/search/label/"+d+"?&max-results=6":"#",m="object"==typeof labelArray&&labelArray.length>0?"/-/"+d:"",h=function(e){var t=e.feed.openSearch$totalResults.$t-l.numPosts,a=r(1,t>0?t:1);s(l.homePage.replace(/\/$/,"")+"/feeds/posts/summary"+m+"?alt=json-in-script&orderby=updated&start-index="+a+"&max-results="+l.numPosts+"&callback=showRelatedPost")},c=function(e){var t,a,i,s,r,m=document.getElementById(l.containerId),h=n(e.feed.entry),c=l.widgetStyle,p=l.widgetTitle+'<ul class="related-post-style-'+c+'">',u=l.newTabLink?' target="_blank"':"",g='<div style="clear:both;display:block"></div>';if(m){for(var b=0;b<l.numPosts&&b!=h.length;b++){var f=h[b].published.$t,v=f.replace(/(\d+)-(\d+)-(\d+)T(\d+):(\d+):(\d+).(\d+)-(\d+):(\d+)/,"$3/$2/$1");a=h[b].title.$t,i="auto"!==l.titleLength&&l.titleLength<a.length?a.substring(0,l.titleLength)+"&hellip;":a,s="media$thumbnail"in h[b]&&l.thumbnailSize!==!1?h[b].media$thumbnail.url.replace(/\/s[0-9]+(\-c)?/,"/s"+l.thumbnailSize+"-c"):l.noImage,r="summary"in h[b]&&l.summaryLength>0?h[b].summary.$t.replace(/<br ?\/?>/g," ").replace(/<.*?>/g,"").replace(/[<>]/g,"").substring(0,l.summaryLength)+"&hellip;":"";for(var A=0,y=h[b].link.length;y>A;A++)t="alternate"==h[b].link[A].rel?h[b].link[A].href:"#";p+=2==c?"<li><img alt='' class='related-post-item-thumbnail' src='"+s+"' width='"+l.thumbnailSize+"' height='"+l.thumbnailSize+"'><a class='related-post-item-title' href='"+t+"'"+u+">"+i+"</a><div class='related-post-item-info'><div class='related-post-item-timestamp'>"+v+"</div><div class='related-post-item-label'><a href='"+o+"' rel='tag nofollow'>"+d+"</a></div></div><div class='related-post-item-summary'><span class='related-post-item-summary-text'>"+r+"</span> <a href='"+t+"' class='related-post-item-more'"+u+">"+l.moreText+"</a></div>"+g+"</li>":3==c||4==c?"<li class='related-post-item' tabindex='0'><div class='related-post-item-inner'><a class='related-post-item-tooltip' href='"+t+"'"+u+"><img alt='' class='related-post-item-thumbnail' src='"+s+"' width='"+l.thumbnailSize+"' height='"+l.thumbnailSize+"'></a><a class='related-post-item-title' href='"+t+"'"+u+">"+i+"</a><div class='related-post-item-info'><div class='related-post-item-timestamp'>"+v+"</div><div class='related-post-item-label'><a href='"+o+"' rel='tag nofollow'>"+d+"</a></div></div></div>"+g+"</li>":5==c?"<li class='related-post-item' tabindex='0'><div class='related-post-item-inner'><a class='related-post-item-wrapper' href='"+t+"'"+u+"><img alt='' class='related-post-item-thumbnail' src='"+s+"' width='"+l.thumbnailSize+"' height='"+l.thumbnailSize+"'><span class='related-post-item-tooltip'>"+i+"</span></a></div>"+g+"</li>":6==c?"<li><a class='related-post-item-title' href='"+t+"'"+u+">"+i+"</a><div class='related-post-item-tooltip'><img alt='' class='related-post-item-thumbnail' src='"+s+"' width='"+l.thumbnailSize+"' height='"+l.thumbnailSize+"'><div class='related-post-item-summary'><span class='related-post-item-summary-text'>"+r+"</span></div>"+g+"</div></li>":"<li><a href='"+t+"'"+u+">"+i+"</a></li>"}m.innerHTML=p+="</ul>"+g,l.callBack()}};randomRelatedIndex=h,showRelatedPost=c,s(l.homePage.replace(/\/$/,"")+"/feeds/posts/summary"+m+"?alt=json-in-script&orderby=updated&max-results=0&callback=randomRelatedIndex")}(window,document,document.getElementsByTagName("head")[0]);
